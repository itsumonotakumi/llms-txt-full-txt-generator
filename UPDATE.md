# LLMS TXT and Full TXT Generator アップデートガイド

このドキュメントでは、LLMS TXT and Full TXT Generatorのアップデート方法を説明します。特に、以前のバージョンからバージョン1.9.2へのアップデートを行う際の注意点をまとめています。

## 設定の引き継ぎについて

このプラグインは、**削除しても設定情報はWordPressのデータベースに保持されます**。つまり、プラグインを一度削除して再インストールしても、前回の設定がそのまま引き継がれるので安心してアップデートできます。

プラグインの設定を完全に削除したい場合は、ヘルプタブの「高度な設定」セクションにある「アンインストール時にすべての設定を削除する」オプションを有効にしてから削除してください。

保存される主な設定項目：
- 選択した投稿タイプ
- カスタムヘッダーテキスト
- URLフィルター設定
- 自動更新の設定
- その他のオプション設定

## 安全なアップデート手順

以下の手順に従って、プラグインを安全にアップデートしてください。

### 方法1: 推奨する手順（クリーンインストール）

1. **念のため既存の設定を確認する**
   - プラグインの設定画面で現在の設定を確認しておくと安心です
   - 必要に応じて、生成されたllms.txtとllms-full.txtファイルもバックアップしておきます

2. **現在のプラグインを無効化して削除する**
   - WordPress管理画面の「プラグイン」メニューから、プラグインを無効化します
   - プラグインを完全に削除します
   - この操作を行っても、設定はWordPressのデータベースに保持されるので安心してください

3. **新しいバージョンをインストールする**
   - ZIPファイルをダウンロードして、WordPress管理画面から「プラグインのアップロード」でインストールします
   - または、プラグインファイルをサーバーの`wp-content/plugins/`ディレクトリに直接アップロードします

4. **プラグインを有効化する**
   - 新しくインストールしたプラグインを有効化します
   - 以前の設定が自動的に読み込まれ、そのまま利用できます
   - 設定画面で内容を確認し、問題なければそのまま使用できます

### 方法2: 通常のアップデート（1.9.2ではリスクがあります）

通常のアップデート方法ではエラーが発生する可能性があるため、バージョン1.9.2への更新では方法1（クリーンインストール）を強く推奨します。

## トラブルシューティング

アップデート後に問題が発生した場合は、以下の対策を試してください。

### 有効化エラーが発生する場合

エラーメッセージ：「重大なエラーを引き起こしたため、プラグインを有効化できませんでした。」

対処法：
1. FTPやファイルマネージャーを使用して、プラグインディレクトリ（`wp-content/plugins/llms-txt-full-txt-generator/`）を完全に削除します
2. クリーンインストール（方法1）を実行します
3. 設定は自動的に引き継がれます

### 設定が期待通りに引き継がれていない場合

対処法：
1. WordPressのデータベースでoptionsテーブルを確認します
2. `llms_txt_generator_`で始まるオプションが残っているか確認します
3. 設定が引き継がれない場合は、以下の方法を試してください：
   - 古いバージョンを再インストールして、設定を確認
   - プラグインを削除せずに無効化してから、新バージョンのファイルを上書きしてみる
   - もし設定が完全に失われた場合は、手動で再設定してください
4. バージョン1.9.2では設定の引き継ぎが改善されているため、このバージョン以降では問題が解消されるはずです

### 生成されたファイルが更新されない場合

対処法：
1. プラグイン設定画面で「LLMS.txtファイルを生成」ボタンを押して、手動で更新してみてください
2. 「投稿の変更時に自動更新」オプションを無効化してから再度有効化してみてください
3. WordPressのパーミッション設定を確認し、プラグインがファイルを作成・更新できるようになっているか確認してください

## バージョン1.9.2の変更点

バージョン1.9.2では主に以下の変更が行われています：

- 多言語対応（日本語・英語）が追加されました
- WordPress.org準拠のreadme.txtが改善されました
- スクリーンショットが追加されました
- 管理画面のUIが微調整されました
- 内部処理が最適化されました
- バージョン間の互換性が改善されました

詳細な変更履歴は[CHANGELOG.md](CHANGELOG.md)または[CHANGELOG-en.md](CHANGELOG-en.md)をご覧ください。

## バックアップの重要性

プラグインのアップデートを行う前に、必ず以下をバックアップしておくことをお勧めします：

- WordPressデータベース全体
- WordPress のファイル
- 生成されたllms.txtとllms-full.txtファイル

## サポート

問題が解決しない場合は、以下の連絡先にお問い合わせください：

- メールアドレス: llms-txt@takulog.info
- GitHub: https://github.com/itsumonotakumi/llms-txt-full-txt-generator/issues
